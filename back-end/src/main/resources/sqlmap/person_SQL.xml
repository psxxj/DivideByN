<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE  mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="person">

<insert id="insert" parameterType="person" useGeneratedKeys="true" keyProperty="Person_id">  
    <![CDATA[
    insert into personDB
    (PersonName, Account, TravelName) 
    values
    (#{PersonName}, #{Account}, #{TravelName})
    ]]>
</insert>

<update id="update" parameterType="person">  
	<![CDATA[  
	update personDB set  
	Difference = #{Difference},  
	Role = #{Role}
	where  
	Person_id = #{PersonId}  
	]]>  
</update>  

<select id="getWhoInTravel" parameterType="travel" resultType="String">
	<![CDATA[
		select
		PersonName
		from
		personDB
		where
		travelName = #{travelName}
	]]>
</select>

<select id="getPersonBriefly" parameterType="String" resultType="person">
	<![CDATA[
		select
		PersonName,
		Role,
		Difference
		from
		personDB
		where
		travel = #{travel}
	]]>
</select>

<select id="getPersonDetail" parameterType="person" resultType="person">
	<![CDATA[
		select
		PersonName,
		Account,
		Role,
		Difference
		from
		personDB
		where
		Person_id = #{Person_id}
	]]>
</select>



<select id="getGETTER" parameterType="person" resultType="person">
	<![CDATA[
		select
		PersonName,
		Difference
		from
		personDB
		where
		travelName = #{travelName}
		Role = #{"GETTER"}
	]]>
</select>
<select id="getSENDER" parameterType="person" resultType="person">
	<![CDATA[
		select
		PersonName,
		Difference
		from
		personDB
		where
		travelName = #{travelName}
		Role = #{"SENDER"}
	]]>
</select>
<select id="getLEADER" parameterType="person" resultType="String">
	<![CDATA[
		select
		PersonName,
		from
		personDB
		where
		travelName = #{travelName}
		Role = #{"LEADER"}
	]]>
</select>

</mapper>	